@using System.Security.Cryptography
@using System.IO

<div class="field is-horizontal">
    <div class="field-label is-normal"><label class="label">Input</label></div>
    <div class="field-body">
        <div class="field">
            <div class="control">
                <textarea class="textarea" @bind="inputData" placeholder="Input"></textarea>
            </div>
        </div>
    </div>
</div>

<div class="field is-horizontal">
    <div class="field-label is-normal"><label class="label">Output</label></div>
    <div class="field-body">
        <div class="field">
            <div class="control">
                <textarea class="textarea" @bind="outputData" placeholder="Output" readonly></textarea>
            </div>
        </div>
    </div>
</div>

<div class="field is-horizontal">
    <div class="field-label is-normal"><!----></div>
    <div class="field-body">
        <div class="field">
            <div class="field is-grouped">
                <div class="control">
                    <button class="button is-primary" @onclick="BtnEncrypt">
                        Encrypt
                    </button>
                </div>
                <div class="control">
                    <button class="button is-primary" @onclick="BtnDecrypt">
                        Decrypt
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private string keyData;
    private string inputData;
    private string outputData;

    public void BtnEncrypt()
    {
        outputData = ObonCryptography.TripleDes.EncryptOct(inputData);
        if (string.IsNullOrEmpty(outputData))
        {
            toastService.ShowError("Key atau input salah", "FAIL");
        }
    }

    public void BtnDecrypt()
    {
        outputData = ObonCryptography.TripleDes.DecryptOct(inputData);
        if (string.IsNullOrEmpty(outputData))
        {
            toastService.ShowError("Key atau input salah", "FAIL");
        }
    }
}
