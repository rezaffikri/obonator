<div class="field is-horizontal">
    <div class="field-label is-normal"><label class="label">Key</label></div>
    <div class="field-body">
        <div class="field">
            <p class="control">
                <input class="input" type="text" @bind="keyData" placeholder="Key">
            </p>
        </div>
    </div>
</div>

<div class="field is-horizontal">
    <div class="field-label is-normal"><label class="label">Input</label></div>
    <div class="field-body">
        <div class="field">
            <div class="control">
                <textarea class="textarea" @bind="inputData" placeholder="Input"></textarea>
            </div>
        </div>
    </div>
</div>

<div class="field is-horizontal">
    <div class="field-label is-normal"><label class="label">Output</label></div>
    <div class="field-body">
        <div class="field">
            <div class="control">
                <textarea class="textarea" @bind="outputData" placeholder="Output" readonly></textarea>
            </div>
        </div>
    </div>
</div>

<div class="field is-horizontal">
    <div class="field-label is-normal"><label class="label">Output Format</label></div>
    <div class="field-body">
        <div class="field">
            <div class="control">
                <RadioGroup TValue="string" Name="colors" CheckedValue="@rdTypeValue" CheckedValueChanged="@OnCheckedValueChanged">
                    <Radio TValue="string" Value="@("1")">Plain</Radio>
                    <Radio TValue="string" Value="@("2")">Hex</Radio>
                </RadioGroup>
            </div>
        </div>
    </div>
</div>


<div class="field is-horizontal">
    <div class="field-label is-normal"><!----></div>
    <div class="field-body">
        <div class="field is-grouped">
            <div class="control">
                <button class="button is-primary" @onclick="BtnEncrypt">
                    Encrypt
                </button>
            </div>
            <div class="control">
                <button class="button is-primary" @onclick="BtnDecrypt">
                    Decrypt
                </button>
            </div>
        </div>
    </div>
</div>

@code {
    private string keyData;
    private string inputData;
    private string outputData;
    private string rdTypeValue = "1";
    private bool isHex;

    void OnCheckedValueChanged(string value)
    {
        if (value.Equals("1"))
        {
            isHex = false;
        }
        else
        {
            isHex = true;
        }
    }

    private void BtnEncrypt()
    {
        outputData = ObonCryptography.TripleDes.Encrypt(keyData, inputData, isHex);
        if (string.IsNullOrEmpty(outputData))
        {
            toastService.ShowError("Key atau input salah", "FAIL");
        }
    }

    private void BtnDecrypt()
    {
        outputData = ObonCryptography.TripleDes.Decrypt(keyData, inputData, isHex);
        if (string.IsNullOrEmpty(outputData))
        {
            toastService.ShowError("Key atau input salah", "FAIL");
        }
    }
}
